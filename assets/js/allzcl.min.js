!function(e){(function(){window.Tags||(window.Tags={}),jQuery(function(){return e.tags=function(t,s){var n,i,o,a,r,d,l,h=this;null==s&&(s={});for(n in s)a=s[n],this[n]=a;if(this.bootstrapVersion||(this.bootstrapVersion="3"),this.readOnly||(this.readOnly=!1),this.suggestOnClick||(this.suggestOnClick=!1),this.suggestions||(this.suggestions=[]),this.restrictTo=null!=s.restrictTo&&s.restrictTo.concat(this.suggestions),this.exclude||(this.exclude=!1),this.displayPopovers=null!=s.popovers||null!=s.popoverData,this.popoverTrigger||(this.popoverTrigger="hover"),this.tagClass||(this.tagClass="btn-primary"),this.tagSize||(this.tagSize="md"),this.promptText||(this.promptText="Enter tags..."),this.caseInsensitive||(this.caseInsensitive=!1),this.readOnlyEmptyMessage||(this.readOnlyEmptyMessage="No tags to display..."),this.maxNumTags||(this.maxNumTags=-1),this.beforeAddingTag||(this.beforeAddingTag=function(e){}),this.afterAddingTag||(this.afterAddingTag=function(e){}),this.beforeDeletingTag||(this.beforeDeletingTag=function(e){}),this.afterDeletingTag||(this.afterDeletingTag=function(e){}),this.definePopover||(this.definePopover=function(e){return'associated content for "'+e+'"'}),this.excludes||(this.excludes=function(){return!1}),this.tagRemoved||(this.tagRemoved=function(e){}),this.pressedReturn||(this.pressedReturn=function(e){}),this.pressedDelete||(this.pressedDelete=function(e){}),this.pressedDown||(this.pressedDown=function(e){}),this.pressedUp||(this.pressedUp=function(e){}),this.$element=e(t),null!=s.tagData?this.tagsArray=s.tagData:(o=e(".tag-data",this.$element).html(),this.tagsArray=null!=o?o.split(","):[]),s.popoverData)this.popoverArray=s.popoverData;else for(this.popoverArray=[],l=this.tagsArray,r=0,d=l.length;r<d;r++)i=l[r],this.popoverArray.push(null);return this.getTags=function(){return h.tagsArray},this.getTagsContent=function(){return h.popoverArray},this.getTagsWithContent=function(){var e,t,s,n;for(e=[],t=s=0,n=h.tagsArray.length-1;0<=n?s<=n:s>=n;t=0<=n?++s:--s)e.push({tag:h.tagsArray[t],content:h.popoverArray[t]});return e},this.getTag=function(e){var t;return t=h.tagsArray.indexOf(e),t>-1?h.tagsArray[t]:null},this.getTagWithContent=function(e){var t;return t=h.tagsArray.indexOf(e),{tag:h.tagsArray[t],content:h.popoverArray[t]}},this.hasTag=function(e){return h.tagsArray.indexOf(e)>-1},this.removeTagClicked=function(t){return"A"===t.currentTarget.tagName&&(h.removeTag(e("span",t.currentTarget.parentElement).html()),e(t.currentTarget.parentNode).remove()),h},this.removeLastTag=function(){return h.tagsArray.length>0&&(h.removeTag(h.tagsArray[h.tagsArray.length-1]),h.canAddByMaxNum()&&h.enableInput()),h},this.removeTag=function(e){if(h.tagsArray.indexOf(e)>-1){if(h.beforeDeletingTag(e)===!1)return;h.popoverArray.splice(h.tagsArray.indexOf(e),1),h.tagsArray.splice(h.tagsArray.indexOf(e),1),h.renderTags(),h.afterDeletingTag(e),h.canAddByMaxNum()&&h.enableInput()}return h},this.canAddByRestriction=function(e){return this.restrictTo===!1||this.restrictTo.indexOf(e)!==-1},this.canAddByExclusion=function(e){return(this.exclude===!1||this.exclude.indexOf(e)===-1)&&!this.excludes(e)},this.canAddByMaxNum=function(){return this.maxNumTags===-1||this.tagsArray.length<this.maxNumTags},this.addTag=function(e){var t;if(h.canAddByRestriction(e)&&!h.hasTag(e)&&e.length>0&&h.canAddByExclusion(e)&&h.canAddByMaxNum()){if(h.beforeAddingTag(e)===!1)return;t=h.definePopover(e),h.popoverArray.push(t||null),h.tagsArray.push(e),h.afterAddingTag(e),h.renderTags(),h.canAddByMaxNum()||h.disableInput()}return h},this.addTagWithContent=function(e,t){if(h.canAddByRestriction(e)&&!h.hasTag(e)&&e.length>0){if(h.beforeAddingTag(e)===!1)return;h.tagsArray.push(e),h.popoverArray.push(t),h.afterAddingTag(e),h.renderTags()}return h},this.renameTag=function(e,t){return h.tagsArray[h.tagsArray.indexOf(e)]=t,h.renderTags(),h},this.setPopover=function(e,t){return h.popoverArray[h.tagsArray.indexOf(e)]=t,h.renderTags(),h},this.clickHandler=function(e){return h.makeSuggestions(e,!0)},this.keyDownHandler=function(e){var t,s;switch(t=null!=e.keyCode?e.keyCode:e.which){case 13:return e.preventDefault(),h.pressedReturn(e),i=e.target.value,h.suggestedIndex!==-1&&(i=h.suggestionList[h.suggestedIndex]),h.addTag(i),e.target.value="",h.renderTags(),h.hideSuggestions();case 46:case 8:if(h.pressedDelete(e),""===e.target.value&&h.removeLastTag(),1===e.target.value.length)return h.hideSuggestions();break;case 40:if(h.pressedDown(e),""!==h.input.val()||h.suggestedIndex!==-1&&null!=h.suggestedIndex||h.makeSuggestions(e,!0),s=h.suggestionList.length,h.suggestedIndex=h.suggestedIndex<s-1?h.suggestedIndex+1:s-1,h.selectSuggested(h.suggestedIndex),h.suggestedIndex>=0)return h.scrollSuggested(h.suggestedIndex);break;case 38:if(h.pressedUp(e),h.suggestedIndex=h.suggestedIndex>0?h.suggestedIndex-1:0,h.selectSuggested(h.suggestedIndex),h.suggestedIndex>=0)return h.scrollSuggested(h.suggestedIndex);break;case 9:case 27:return h.hideSuggestions(),h.suggestedIndex=-1}},this.keyUpHandler=function(e){var t;if(t=null!=e.keyCode?e.keyCode:e.which,40!==t&&38!==t&&27!==t)return h.makeSuggestions(e,!1)},this.getSuggestions=function(t,s){var n=this;return this.suggestionList=[],this.caseInsensitive&&(t=t.toLowerCase()),e.each(this.suggestions,function(e,i){var o;if(o=n.caseInsensitive?i.substring(0,t.length).toLowerCase():i.substring(0,t.length),n.tagsArray.indexOf(i)<0&&o===t&&(t.length>0||s))return n.suggestionList.push(i)}),this.suggestionList},this.makeSuggestions=function(t,s,n){return null==n&&(n=null!=t.target.value?t.target.value:t.target.textContent),h.suggestedIndex=-1,h.$suggestionList.html(""),e.each(h.getSuggestions(n,s),function(e,t){return h.$suggestionList.append(h.template("tags_suggestion",{suggestion:t}))}),h.$(".tags-suggestion").mouseover(h.selectSuggestedMouseOver),h.$(".tags-suggestion").click(h.suggestedClicked),h.suggestionList.length>0?h.showSuggestions():h.hideSuggestions()},this.suggestedClicked=function(e){return i=e.target.textContent,h.suggestedIndex!==-1&&(i=h.suggestionList[h.suggestedIndex]),h.addTag(i),h.input.val(""),h.makeSuggestions(e,!1,""),h.input.focus(),h.hideSuggestions()},this.hideSuggestions=function(){return h.$(".tags-suggestion-list").css({display:"none"})},this.showSuggestions=function(){return h.$(".tags-suggestion-list").css({display:"block"})},this.selectSuggestedMouseOver=function(t){return e(".tags-suggestion").removeClass("tags-suggestion-highlighted"),e(t.target).addClass("tags-suggestion-highlighted"),e(t.target).mouseout(h.selectSuggestedMousedOut),h.suggestedIndex=h.$(".tags-suggestion").index(e(t.target))},this.selectSuggestedMousedOut=function(t){return e(t.target).removeClass("tags-suggestion-highlighted")},this.selectSuggested=function(t){var s;return e(".tags-suggestion").removeClass("tags-suggestion-highlighted"),s=h.$(".tags-suggestion").eq(t),s.addClass("tags-suggestion-highlighted")},this.scrollSuggested=function(e){var t,s,n,i;if(s=h.$(".tags-suggestion").eq(e),n=h.$(".tags-suggestion").eq(0),t=s.position(),i=n.position(),null!=t)return h.$(".tags-suggestion-list").scrollTop(t.top-i.top)},this.adjustInputPosition=function(){var t,s,n,i,o,a;return o=h.$(".tag").last(),a=o.position(),s=null!=a?a.left+o.outerWidth(!0):0,n=null!=a?a.top:0,i=h.$element.width()-s,e(".tags-input",h.$element).css({paddingLeft:Math.max(s,0),paddingTop:Math.max(n,0),width:i}),t=null!=a?a.top+o.outerHeight(!0):22,h.$element.css({paddingBottom:t-h.$element.height()})},this.renderTags=function(){var t;return t=h.$(".tags"),t.html(""),h.input.attr("placeholder",0===h.tagsArray.length?h.promptText:""),e.each(h.tagsArray,function(s,n){return n=e(h.formatTag(s,n)),e("a",n).click(h.removeTagClicked),e("a",n).mouseover(h.toggleCloseColor),e("a",n).mouseout(h.toggleCloseColor),h.displayPopovers&&h.initializePopoverFor(n,h.tagsArray[s],h.popoverArray[s]),t.append(n)}),h.adjustInputPosition()},this.renderReadOnly=function(){var t;return t=h.$(".tags"),t.html(0===h.tagsArray.length?h.readOnlyEmptyMessage:""),e.each(h.tagsArray,function(s,n){return n=e(h.formatTag(s,n,!0)),h.displayPopovers&&h.initializePopoverFor(n,h.tagsArray[s],h.popoverArray[s]),t.append(n)})},this.disableInput=function(){return this.$("input").prop("disabled",!0)},this.enableInput=function(){return this.$("input").prop("disabled",!1)},this.initializePopoverFor=function(t,n,i){return s={title:n,content:i,placement:"bottom"},"hoverShowClickHide"===h.popoverTrigger?(e(t).mouseover(function(){return e(t).popover("show"),e(".tag").not(t).popover("hide")}),e(document).click(function(){return e(t).popover("hide")})):s.trigger=h.popoverTrigger,e(t).popover(s)},this.toggleCloseColor=function(t){var s,n;return n=e(t.currentTarget),s=n.css("opacity"),s=s<.8?1:.6,n.css({opacity:s})},this.formatTag=function(e,t,s){var n;return null==s&&(s=!1),n=t.replace("<","&lt;").replace(">","&gt;"),h.template("tag",{tag:n,tagClass:h.tagClass,isPopover:h.displayPopovers,isReadOnly:s,tagSize:h.tagSize})},this.addDocumentListeners=function(){return e(document).mouseup(function(e){var t;if(t=h.$(".tags-suggestion-list"),0===t.has(e.target).length)return h.hideSuggestions()})},this.template=function(e,t){return Tags.Templates.Template(this.getBootstrapVersion(),e,t)},this.$=function(t){return e(t,this.$element)},this.getBootstrapVersion=function(){return Tags.bootstrapVersion||this.bootstrapVersion},this.initializeDom=function(){return this.$element.append(this.template("tags_container"))},this.init=function(){return this.$element.addClass("bootstrap-tags").addClass("bootstrap-"+this.getBootstrapVersion()),this.initializeDom(),this.readOnly?(this.renderReadOnly(),this.removeTag=function(){},this.removeTagClicked=function(){},this.removeLastTag=function(){},this.addTag=function(){},this.addTagWithContent=function(){},this.renameTag=function(){},this.setPopover=function(){}):(this.input=e(this.template("input",{tagSize:this.tagSize})),this.suggestOnClick&&this.input.click(this.clickHandler),this.input.keydown(this.keyDownHandler),this.input.keyup(this.keyUpHandler),this.$element.append(this.input),this.$suggestionList=e(this.template("suggestion_list")),this.$element.append(this.$suggestionList),this.renderTags(),this.canAddByMaxNum()||this.disableInput(),this.addDocumentListeners())},this.init(),this},e.fn.tags=function(t){var s,n;return n={},s="number"==typeof t?t:-1,this.each(function(i,o){var a;if(a=e(o),null==a.data("tags")&&a.data("tags",new e.tags(this,t)),s===i||0===i)return n=a.data("tags")}),n}})}).call(this),function(){window.Tags||(window.Tags={}),Tags.Helpers||(Tags.Helpers={}),Tags.Helpers.addPadding=function(e,t,s){return null==t&&(t=1),null==s&&(s=!0),s?0===t?e:Tags.Helpers.addPadding("&nbsp"+e+"&nbsp",t-1):e}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates)[2]||(e[2]={}),Tags.Templates[2].input=function(e){var t;return null==e&&(e={}),t=function(){switch(e.tagSize){case"sm":return"small";case"md":return"medium";case"lg":return"large"}}(),"<input type='text' class='tags-input input-"+t+"' />"}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates)[2]||(e[2]={}),Tags.Templates[2].tag=function(e){return null==e&&(e={}),"<div class='tag label "+e.tagClass+" "+e.tagSize+"' "+(e.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(e.tag,2,e.isReadOnly)+"</span>    "+(e.isReadOnly?"":"<a><i class='remove icon-remove-sign icon-white' /></a>")+"  </div>"}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates)[3]||(e[3]={}),Tags.Templates[3].input=function(e){return null==e&&(e={}),"<input type='text' class='form-control tags-input input-"+e.tagSize+"' />"}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates)[3]||(e[3]={}),Tags.Templates[3].tag=function(e){return null==e&&(e={}),"<div class='tag label "+e.tagClass+" "+e.tagSize+"' "+(e.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(e.tag,2,e.isReadOnly)+"</span>    "+(e.isReadOnly?"":"<a><i class='remove fa fa-remove glyphicon-white' /></a>")+"  </div>"}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates).shared||(e.shared={}),Tags.Templates.shared.suggestion_list=function(e){return null==e&&(e={}),'<ul class="tags-suggestion-list dropdown-menu"></ul>'}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates).shared||(e.shared={}),Tags.Templates.shared.tags_container=function(e){return null==e&&(e={}),'<div class="tags"></div>'}}.call(this),function(){var e;window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),(e=Tags.Templates).shared||(e.shared={}),Tags.Templates.shared.tags_suggestion=function(e){return null==e&&(e={}),"<li class='tags-suggestion'>"+e.suggestion+"</li>"}}.call(this),function(){window.Tags||(window.Tags={}),Tags.Templates||(Tags.Templates={}),Tags.Templates.Template=function(e,t,s){return null!=Tags.Templates[e]&&null!=Tags.Templates[e][t]?Tags.Templates[e][t](s):Tags.Templates.shared[t](s)}}.call(this)}(window.jQuery),function(e,t,s,n){"use strict";var i="treeview",o={};o.settings={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",color:n,backColor:n,borderColor:n,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:n,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:n,onNodeCollapsed:n,onNodeDisabled:n,onNodeEnabled:n,onNodeExpanded:n,onNodeSelected:n,onNodeUnchecked:n,onNodeUnselected:n,onSearchComplete:n,onSearchCleared:n},o.options={silent:!1,ignoreChildren:!1},o.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var a=function(t,s){return this.$element=e(t),this.elementId=t.id,this.styleId=this.elementId+"-style",this.init(s),{options:this.options,init:e.proxy(this.init,this),remove:e.proxy(this.remove,this),getNode:e.proxy(this.getNode,this),getParent:e.proxy(this.getParent,this),getSiblings:e.proxy(this.getSiblings,this),getSelected:e.proxy(this.getSelected,this),getUnselected:e.proxy(this.getUnselected,this),getExpanded:e.proxy(this.getExpanded,this),getCollapsed:e.proxy(this.getCollapsed,this),getChecked:e.proxy(this.getChecked,this),getUnchecked:e.proxy(this.getUnchecked,this),getDisabled:e.proxy(this.getDisabled,this),getEnabled:e.proxy(this.getEnabled,this),selectNode:e.proxy(this.selectNode,this),unselectNode:e.proxy(this.unselectNode,this),toggleNodeSelected:e.proxy(this.toggleNodeSelected,this),collapseAll:e.proxy(this.collapseAll,this),collapseNode:e.proxy(this.collapseNode,this),expandAll:e.proxy(this.expandAll,this),expandNode:e.proxy(this.expandNode,this),toggleNodeExpanded:e.proxy(this.toggleNodeExpanded,this),revealNode:e.proxy(this.revealNode,this),checkAll:e.proxy(this.checkAll,this),checkNode:e.proxy(this.checkNode,this),uncheckAll:e.proxy(this.uncheckAll,this),uncheckNode:e.proxy(this.uncheckNode,this),toggleNodeChecked:e.proxy(this.toggleNodeChecked,this),disableAll:e.proxy(this.disableAll,this),disableNode:e.proxy(this.disableNode,this),enableAll:e.proxy(this.enableAll,this),enableNode:e.proxy(this.enableNode,this),toggleNodeDisabled:e.proxy(this.toggleNodeDisabled,this),search:e.proxy(this.search,this),clearSearch:e.proxy(this.clearSearch,this)}};a.prototype.init=function(t){this.tree=[],this.nodes=[],t.data&&("string"==typeof t.data&&(t.data=e.parseJSON(t.data)),this.tree=e.extend(!0,[],t.data),delete t.data),this.options=e.extend({},o.settings,t),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},a.prototype.remove=function(){this.destroy(),e.removeData(this,i),e("#"+this.styleId).remove()},a.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},a.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},a.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",e.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},a.prototype.setInitialStates=function(t,s){if(t.nodes){s+=1;var n=t,i=this;e.each(t.nodes,function(e,t){t.nodeId=i.nodes.length,t.parentId=n.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&s<i.options.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),i.nodes.push(t),t.nodes&&i.setInitialStates(t,s)})}},a.prototype.clickHandler=function(t){this.options.enableLinks||t.preventDefault();var s=e(t.target),n=this.findNode(s);if(n&&!n.state.disabled){var i=s.attr("class")?s.attr("class").split(" "):[];i.indexOf("expand-icon")!==-1?(this.toggleExpandedState(n,o.options),this.render()):i.indexOf("check-icon")!==-1?(this.toggleCheckedState(n,o.options),this.render()):(n.selectable?this.toggleSelectedState(n,o.options):this.toggleExpandedState(n,o.options),this.render())}},a.prototype.findNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeid"),s=this.nodes[t];return s||console.log("Error: node does not exist"),s},a.prototype.toggleExpandedState=function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},a.prototype.setExpandedState=function(t,s,n){s!==t.state.expanded&&(s&&t.nodes?(t.state.expanded=!0,n.silent||this.$element.trigger("nodeExpanded",e.extend(!0,{},t))):s||(t.state.expanded=!1,n.silent||this.$element.trigger("nodeCollapsed",e.extend(!0,{},t)),t.nodes&&!n.ignoreChildren&&e.each(t.nodes,e.proxy(function(e,t){this.setExpandedState(t,!1,n)},this))))},a.prototype.toggleSelectedState=function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},a.prototype.setSelectedState=function(t,s,n){s!==t.state.selected&&(s?(this.options.multiSelect||e.each(this.findNodes("true","g","state.selected"),e.proxy(function(e,t){this.setSelectedState(t,!1,n)},this)),t.state.selected=!0,n.silent||this.$element.trigger("nodeSelected",e.extend(!0,{},t))):(t.state.selected=!1,n.silent||this.$element.trigger("nodeUnselected",e.extend(!0,{},t))))},a.prototype.toggleCheckedState=function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},a.prototype.setCheckedState=function(t,s,n){s!==t.state.checked&&(s?(t.state.checked=!0,n.silent||this.$element.trigger("nodeChecked",e.extend(!0,{},t))):(t.state.checked=!1,n.silent||this.$element.trigger("nodeUnchecked",e.extend(!0,{},t))))},a.prototype.setDisabledState=function(t,s,n){s!==t.state.disabled&&(s?(t.state.disabled=!0,this.setExpandedState(t,!1,n),this.setSelectedState(t,!1,n),this.setCheckedState(t,!1,n),n.silent||this.$element.trigger("nodeDisabled",e.extend(!0,{},t))):(t.state.disabled=!1,n.silent||this.$element.trigger("nodeEnabled",e.extend(!0,{},t))))},a.prototype.render=function(){this.initialized||(this.$element.addClass(i),this.$wrapper=e(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},a.prototype.buildTree=function(t,s){if(t){s+=1;var n=this;e.each(t,function(t,i){for(var o=e(n.template.item).addClass("node-"+n.elementId).addClass(i.state.checked?"node-checked":"").addClass(i.state.disabled?"node-disabled":"").addClass(i.state.selected?"node-selected":"").addClass(i.searchResult?"search-result":"").attr("data-nodeid",i.nodeId).attr("style",n.buildStyleOverride(i)),a=0;a<s-1;a++)o.append(n.template.indent);var r=[];if(i.nodes?(r.push("expand-icon"),i.state.expanded?r.push(n.options.collapseIcon):r.push(n.options.expandIcon)):r.push(n.options.emptyIcon),o.append(e(n.template.icon).addClass(r.join(" "))),n.options.showIcon){var r=["node-icon"];r.push(i.icon||n.options.nodeIcon),i.state.selected&&(r.pop(),r.push(i.selectedIcon||n.options.selectedIcon||i.icon||n.options.nodeIcon)),o.append(e(n.template.icon).addClass(r.join(" ")))}if(n.options.showCheckbox){var r=["check-icon"];i.state.checked?r.push(n.options.checkedIcon):r.push(n.options.uncheckedIcon),o.append(e(n.template.icon).addClass(r.join(" ")))}if(n.options.enableLinks?o.append(e(n.template.link).attr("href",i.href).append(i.text)):o.append(i.text),n.options.showTags&&i.tags&&e.each(i.tags,function(t,s){o.append(e(n.template.badge).append(s))}),n.$wrapper.append(o),i.nodes&&i.state.expanded&&!i.state.disabled)return n.buildTree(i.nodes,s)})}},a.prototype.buildStyleOverride=function(e){if(e.state.disabled)return"";var t=e.color,s=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.selectedColor&&(t=this.options.selectedColor),this.options.selectedBackColor&&(s=this.options.selectedBackColor)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.searchResultColor&&(t=this.options.searchResultColor),this.options.searchResultBackColor&&(s=this.options.searchResultBackColor)),"color:"+t+";background-color:"+s+";"},a.prototype.injectStyle=function(){this.options.injectStyle&&!s.getElementById(this.styleId)&&e('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},a.prototype.buildStyle=function(){var e=".node-"+this.elementId+"{";return this.options.color&&(e+="color:"+this.options.color+";"),this.options.backColor&&(e+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(e+="border:1px solid "+this.options.borderColor+";"):e+="border:none;",e+="}",this.options.onhoverColor&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+e},a.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},a.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",a.prototype.getNode=function(e){return this.nodes[e]},a.prototype.getParent=function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},a.prototype.getSiblings=function(e){var t=this.identifyNode(e),s=this.getParent(t),n=s?s.nodes:this.tree;return n.filter(function(e){return e.nodeId!==t.nodeId})},a.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},a.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},a.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},a.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},a.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},a.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},a.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},a.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},a.prototype.selectNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},a.prototype.unselectNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeSelected=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},a.prototype.collapseAll=function(t){var s=this.findNodes("true","g","state.expanded");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},a.prototype.collapseNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},a.prototype.expandAll=function(t){if(t=e.extend({},o.options,t),t&&t.levels)this.expandLevels(this.tree,t.levels,t);else{var s=this.findNodes("false","g","state.expanded");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},a.prototype.expandNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},a.prototype.expandLevels=function(t,s,n){n=e.extend({},o.options,n),e.each(t,e.proxy(function(e,t){this.setExpandedState(t,s>0,n),t.nodes&&this.expandLevels(t.nodes,s-1,n)},this))},a.prototype.revealNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){for(var s=this.getParent(e);s;)this.setExpandedState(s,!0,t),s=this.getParent(s)},this)),this.render()},a.prototype.toggleNodeExpanded=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},a.prototype.checkAll=function(t){var s=this.findNodes("false","g","state.checked");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},a.prototype.checkNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},a.prototype.uncheckAll=function(t){var s=this.findNodes("true","g","state.checked");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},a.prototype.uncheckNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeChecked=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},a.prototype.disableAll=function(t){var s=this.findNodes("false","g","state.disabled");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},a.prototype.disableNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},a.prototype.enableAll=function(t){var s=this.findNodes("true","g","state.disabled");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},a.prototype.enableNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeDisabled=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},a.prototype.forEachIdentifier=function(t,s,n){s=e.extend({},o.options,s),t instanceof Array||(t=[t]),e.each(t,e.proxy(function(e,t){n(this.identifyNode(t),s)},this))},a.prototype.identifyNode=function(e){return"number"==typeof e?this.nodes[e]:e},a.prototype.search=function(t,s){s=e.extend({},o.searchOptions,s),this.clearSearch({render:!1});var n=[];if(t&&t.length>0){s.exactMatch&&(t="^"+t+"$");var i="g";s.ignoreCase&&(i+="i"),n=this.findNodes(t,i),e.each(n,function(e,t){t.searchResult=!0})}return s.revealResults?this.revealNode(n):this.render(),this.$element.trigger("searchComplete",e.extend(!0,{},n)),n},a.prototype.clearSearch=function(t){t=e.extend({},{render:!0},t);var s=e.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});t.render&&this.render(),this.$element.trigger("searchCleared",e.extend(!0,{},s))},a.prototype.findNodes=function(t,s,n){s=s||"g",n=n||"text";var i=this;return e.grep(this.nodes,function(e){var o=i.getNodeValue(e,n);if("string"==typeof o)return o.match(new RegExp(t,s))})},a.prototype.getNodeValue=function(e,t){var s=t.indexOf(".");if(s>0){var i=e[t.substring(0,s)],o=t.substring(s+1,t.length);return this.getNodeValue(i,o)}return e.hasOwnProperty(t)?e[t].toString():n};var r=function(e){t.console&&t.console.error(e)};e.fn[i]=function(t,s){var n;return this.each(function(){var o=e.data(this,i);"string"==typeof t?o?e.isFunction(o[t])&&"_"!==t.charAt(0)?(s instanceof Array||(s=[s]),n=o[t].apply(o,s)):r("No such method : "+t):r("Not initialized, can not call method : "+t):"boolean"==typeof t?n=o:e.data(this,i,new a(this,e.extend(!0,{},t)))}),n||this}}(jQuery,window,document);